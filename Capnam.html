<html lang="de">
<head>
<title> Capnam </title>
<meta charset='utf-8' />
</head>

<body>
  <script src='js/Grid.js'></script>
  <script src='js/fields.js'></script>
  <script src='js/maze.js'></script>
  <script src='js/player.js'></script>

  <h1 class="intro">This is Capnam</h1>
  <h2 class="intro2">EAT collect REPEAT</h2>
  <br>
  <input type="text" value="" id="time" readonly >
  <br>
  <canvas id='cvs' width='800px' height='800px' style="background-color:#0000ff ;border: 2px solid #000000;"></canvas>
  <br>

  <input type="number" id="dimensions" value="" placeholder="neue größe?(Anzahl Felder)">
  <button onclick="var eingabe = document.getElementById('dimensions').value; alert(eingabe +' Felder großes neues Spielfeld? Kommt sofort :)'); neuesLevel()">Erstellen</button>
  <input type="button" value="Test" onclick="neuesLevel()">

  <div id="footer">

       <p class="footer">- Created by Yannick Bauer</p>

  </div>






  <script>
var cvs = document.getElementById('cvs');
//    alert ("Hier kurz die Regeln und Steuerung: \nBewegungen mit w,a,s,d auf der Tastatur\nZiel des Spiels: Überleben und viele Punkte machen")             //hier noch die genaueren Voraussetzungen einfügen

function neuesLevel()
     {
       var dim = document.getElementById('dimensions').value;
       console.log(dim);
       var grid = new Grid( cvs, dim );
       var maze = createMaze(grid);
       grid.drawGrid(maze,player1);
       grid.drawFieldNumbers();
     }



//StartZeit und aktuelle Zeit als Variablen
    var start_time = new Date().getTime();
    var current_time = new Date().getTime();           //hier noch überlegen wo die Zeitanzeige am besten eingebaut werden soll

    function displayTime(input_field)
    {
    	//	ctx.clearRect(0,0,ctx.canvas.width, ctx.canvas.height);
    		current_time = new Date().getTime();


    		let delta_t = parseInt((current_time - start_time) / 1000);
    		let delta_m = parseInt( delta_t / 60);
    		let delta_s = delta_t % 60;

    		delta_m = delta_m < 10 ? ("0"+delta_m) : delta_m;
    		delta_s = delta_s < 10 ? ("0"+delta_s) : delta_s;

    		let zeittext =`Zeit ${delta_m}:${delta_s}`;
    		input_field.value = zeittext			//auf das input feld zugreifen
    	}



setInterval (displayTime, 1000, document.getElementById('time'));

    //Spieler
//  	    var player1 = new Player ( "Capnam", start_field, "#ff0000");
//        player1.drawPlayerPosition( grid );


  </script>
  </body>
  </html>
